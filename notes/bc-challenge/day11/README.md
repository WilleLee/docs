# 이벤트의 비동기 처리

## 자바스크립트에서 비동기 처리

### 자바스크립트 = 싱글 스레드

자바스크립트를 실행하는 자바스크립트 엔진은 단 하나의 실행 컨텍스트만을 갖는다. 즉 자바스크립트는 싱글 스레드로 동작하여, 한 번에 하나의 작업만을 처리할 수 있다. 각각의 작업을 순차적으로 수행하고, 만약 중간의 한 작업을 처리하는 데 시간이 오래 걸린다면, 다음 작업에 대해서는 잠시간 '작업 중단', 즉 '블로킹' 현상이 발생한다. 그리고 이러한 작업 처리 방식을 '동기적'(synchronous)이라고 한다.

### 자바스크립트 = 논블로킹

하지만 자바스크립트 프로그램에서 `setTimeout()`과 같은 함수를 사용하면, 이후의 작업을 **블로킹하지 않고**, 일정 시간이 지나면 콜백 함수가 실행된다. 이러한 작업 처리 방식을 '비동기적'(asynchronous)이라고 하는데, 이러한 비동기 처리는 **이벤트 루프**와 **태스크 큐**(이벤트 큐)를 통해 구현된다. 그리고 이러한 비동기 처리는 자바스크립트 엔진에 의해 수행되지 않고, 자바스크립트 엔진 구동 환경인 브라우저나 Node.js가 담당한다. 즉 브라우저와 Node.js는 싱글 스레드가 아닌 멀티 스레드이다(한 번에 여러 작업 환경을 가질 수 있다).

- 태스크 큐: 비동기 처리 함수의 콜백 함수 또는 이벤트 핸들러를 일시적으로 보관하다가, 실행 컨텍스트가 비어있을 때 이벤트 루프에 의해 실행 컨텍스트로 이동되어 실행된다.
- 이벤트 루프: 실행 컨텍스트와 태스크 큐를 모니터링하여 실행 컨텍스트가 비어있을 때 태스크 큐에 있는 콜백 함수를 순차적으로 실행 컨텍스트로 이동시킨다.

병렬처리와 스레드

스레드 풀

객체지향 설계와 데이터 흐름

이벤트 큐

이벤트 핸들러

Promise

Event Emitter
