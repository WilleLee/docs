# closure

MDN 정의에 따르면, 클로저는 ["함수와 그 함수가 선언된 렉시컬 환경의 조합"](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)이다. 여기서 먼저 이해해야 할 핵심 키워드는 "함수가 선언된 렉시컬 환경"이다.

## 렉시컬 스코프

자바스크립트 엔진은 함수를 어디서 호출했는지가 아니라 **함수를 어디에 정의했는지**에 따라 상위 스코프를 결정한다. 이를 **렉시컬 스코프** 혹은 **정적 스코프**라고 한다.

```javascript
const x = 1;

function foo() {
  const x = 10;
  bar();
}

function bar() {
  console.log(x);
}

foo(); // 1
bar(); // 1
```

위 코드에서 `bar` 함수와 `foo` 함수는 모두 전역에서 정의되었다. 함수의 상위 소크프(렉시컬 환경의 외부 렉시컬 환경 참조)는 함수를 어디서 정의했느냐에 따라 결정되므로, `foo` 함수와 `bar` 함수의 상위 스코프는 전역 스코프이다. 따라서 `bar` 함수는 `foo` 함수 내부에서 호출되었더라도 `foo` 함수의 렉시컬 환경을 참조하지 않고 전역 스코프를 참조한다.
